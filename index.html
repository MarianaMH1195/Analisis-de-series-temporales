<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detective de Datos - Aprende Series Temporales</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîç</text></svg>">
    <meta name="description" content="Juego educativo para aprender an√°lisis de series temporales con datos reales">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="container">
        <!-- TOOLBAR -->
        <div class="toolbar">
            <button class="toolbar-btn" id="btnHelp" title="Instrucciones">
                <i class="ri-question-line"></i>
            </button>
            <button class="toolbar-btn" id="btnSound" title="Sonido">
                <i class="ri-volume-up-line"></i>
            </button>
            <button class="toolbar-btn" id="btnTheme" title="Cambiar tema">
                <i class="ri-sun-line"></i>
            </button>
        </div>

        <!-- HEADER -->
        <header class="header">
            <h1><i class="ri-search-eye-line"></i> Detective de Datos</h1>
            <p>Domina el an√°lisis de series temporales en 7 misiones</p>
        </header>

        <!-- STATS BAR -->
        <div class="stats-bar">
            <div class="stat-item">
                <i class="ri-vip-diamond-line"></i>
                <div>
                    <div class="stat-value" id="totalXP">0</div>
                    <div class="stat-label">XP Total</div>
                </div>
            </div>
            <div class="stat-item">
                <i class="ri-bookmark-3-line"></i>
                <div>
                    <div class="stat-value" id="missionsCompleted">0/7</div>
                    <div class="stat-label">Misiones</div>
                </div>
            </div>
            <div class="stat-item">
                <i class="ri-medal-line"></i>
                <div>
                    <div class="stat-value" id="currentRank">Novato</div>
                    <div class="stat-label">Rango</div>
                </div>
            </div>
        </div>

        <!-- SCREEN: MISSION SELECT -->
        <div id="screenSelect" class="screen active">
            <div class="missions-grid" id="missionsGrid"></div>
        </div>

        <!-- SCREEN: MISSION PLAY -->
        <div id="screenPlay" class="screen">
            <div class="mission-play-header">
                <button class="btn btn-secondary" id="btnBack">
                    <i class="ri-arrow-left-line"></i> Volver
                </button>
                <div style="flex: 1;">
                    <h2 id="playTitle">Misi√≥n</h2>
                    <p id="playSubtitle" style="color: var(--text-secondary);"></p>
                </div>
                <div class="mission-stars" id="playDifficulty"></div>
            </div>

            <!-- CHART SECTION -->
            <section class="chart-section">
                <h3 class="chart-title">
                    <i class="ri-bar-chart-box-line"></i>
                    <span id="chartTitle">Datos del Caso</span>
                </h3>
                <div class="chart-wrapper">
                    <canvas id="mainChart"></canvas>
                </div>
            </section>

            <!-- QUESTION PANEL -->
            <div class="question-panel">
                <div class="question-progress" id="questionProgress">Pregunta 1 de 1</div>
                <h3 class="question-title" id="questionTitle">Pregunta</h3>

                <div id="questionContent"></div>

                <div id="hintPanel" class="hint-panel" style="display: none;">
                    <h4><i class="ri-lightbulb-line"></i> Pista</h4>
                    <p id="hintText"></p>
                </div>

                <div id="explanationPanel" class="explanation-panel" style="display: none;">
                    <h4 id="explanationTitle"></h4>
                    <p id="explanationText"></p>
                </div>

                <div class="question-actions">
                    <button class="btn btn-secondary" id="btnHint" onclick="showHint()">
                        <i class="ri-lightbulb-line"></i> Pista
                    </button>
                    <button class="btn btn-primary" id="btnSubmit" onclick="checkAnswer()">
                        Enviar Respuesta
                    </button>
                    <button class="btn btn-success" id="btnNext" onclick="nextQuestion()" style="display: none;">
                        Siguiente <i class="ri-arrow-right-line"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-content">
            <p>
                <i class="ri-code-line"></i> Proyecto desarrollado como p√≠ldora formativa del
                <strong>Bootcamp de Data Analysis - Factor√≠a F5</strong>
            </p>
            ¬© 2026 Detective de Datos
            </p>
        </div>
    </footer>

    <!-- MODAL: MISSION COMPLETE -->
    <div class="modal" id="completeModal">
        <div class="modal-content">
            <div class="modal-icon success"><i class="ri-trophy-line"></i></div>
            <h2 id="completeTitle">¬°Misi√≥n Completada!</h2>
            <p id="completeXP" style="font-size: 2rem; color: var(--success); margin: 1rem 0;">+100 XP</p>
            <p id="completeStats" style="color: var(--text-secondary);"></p>
            <button class="btn btn-primary" onclick="closeModal()" style="margin-top: 1.5rem;">Continuar</button>
        </div>
    </div>

    <!-- MODAL: HELP -->
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <h2><i class="ri-question-line"></i> C√≥mo Jugar</h2>
            <div class="help-content">
                <h3>üéØ Objetivo</h3>
                <ul>
                    <li>Completa las <strong>7 misiones</strong> de an√°lisis de datos</li>
                    <li>Gana <strong>XP</strong> respondiendo correctamente</li>
                    <li>Sube de <strong>rango</strong> y convi√©rtete en experto</li>
                </ul>

                <h3>üìä Misiones</h3>
                <ul>
                    <li>Cada misi√≥n tiene preguntas sobre gr√°ficos reales</li>
                    <li>Las preguntas pueden ser de selecci√≥n o num√©ricas</li>
                    <li>La dificultad aumenta progresivamente</li>
                </ul>

                <h3>üí° Consejos</h3>
                <ul>
                    <li><strong>Observa las gr√°ficas</strong> con atenci√≥n</li>
                    <li><strong>Lee la pregunta</strong> y las opciones</li>
                    <li><strong>Selecciona o escribe</strong> tu respuesta</li>
                    <li>Usa las <strong>pistas</strong> si necesitas ayuda</li>
                </ul>

                <h3>üèÜ Rangos</h3>
                <ul>
                    <li><span class="emoji">üå±</span> <strong>Novato</strong>: 0 XP</li>
                    <li><span class="emoji">üìä</span> <strong>Junior</strong>: 100 XP</li>
                    <li><span class="emoji">üìà</span> <strong>Analyst</strong>: 300 XP</li>
                    <li><span class="emoji">üéì</span> <strong>Senior</strong>: 600 XP</li>
                    <li><span class="emoji">‚≠ê</span> <strong>Expert</strong>: 1000 XP</li>
                    <li><span class="emoji">üëë</span> <strong>Master</strong>: 1500 XP</li>
                </ul>

                <h3>‚öôÔ∏è Controles</h3>
                <ul>
                    <li><i class="ri-question-line"></i> Ver instrucciones</li>
                    <li><i class="ri-volume-up-line"></i> Activar/desactivar sonidos</li>
                    <li><i class="ri-sun-line"></i> Cambiar tema claro/oscuro</li>
                </ul>
            </div>
            <button class="btn btn-primary" onclick="closeHelpModal()" style="margin-top: 1rem; width: 100%;">
                ¬°Entendido!
            </button>
        </div>
    </div>

    <!-- MODAL: CERTIFICATE -->
    <div class="modal" id="certificateModal">
        <div class="modal-content" style="max-width: 600px;">


            <div id="certNameInput" class="name-input-group">
                <p style="color: var(--text-secondary);">Ingresa tu nombre para el certificado:</p>
                <input type="text" class="name-input" id="playerName" placeholder="Tu nombre aqu√≠" maxlength="30">
                <button class="btn btn-primary" onclick="generateCertificate()">
                    <i class="ri-file-download-line"></i> Generar Certificado
                </button>
            </div>

            <div id="certCanvas" style="display: none;">
                <canvas id="certificateCanvas" width="800" height="600" class="certificate-canvas"></canvas>
                <div style="display: flex; gap: 0.5rem; margin-top: 1rem; flex-wrap: wrap;">
                    <button class="btn btn-primary" onclick="downloadCertificate()" style="flex: 1;">
                        <i class="ri-download-line"></i> Descargar
                    </button>
                    <button class="btn btn-secondary" onclick="closeCertificateModal()" style="flex: 1;">
                        Cerrar
                    </button>
                    <button class="btn btn-warning" onclick="restartGame()"
                        style="flex-basis: 100%; margin-top: 0.5rem;">
                        <i class="ri-refresh-line"></i> Reiniciar Juego
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.0/dist/confetti.browser.min.js"></script>
    <script src="js/app.js"></script>
</body>

</html>